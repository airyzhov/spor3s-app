# Решение проблемы доступа к VPS

## Текущая ситуация

- ✅ VPS доступен: `185.166.197.49` (ping работает)
- ✅ Порты 80, 443 открыты (веб-сервер работает)
- ✅ SSH порт 22 открыт, но соединение таймаутит
- ❌ Прямое SSH подключение не работает

## Возможные причины

1. **Firewall блокирует ваш IP** - наиболее вероятно
2. **SSH сервер настроен на прием только с определенных IP**
3. **Fail2ban заблокировал ваш IP** после множественных попыток

## Решения

### Вариант 1: Использовать VPN или другой IP

Если у вас есть VPN, подключитесь через него и попробуйте снова:
```bash
ssh root@185.166.197.49
# Пароль: qXY.W3,,Be?@gb
```

### Вариант 2: Попросить администратора разблокировать IP

Если у вас есть доступ к панели управления VPS (например, у провайдера), попросите:
- Разблокировать ваш IP в firewall
- Проверить настройки fail2ban
- Добавить ваш IP в whitelist SSH

### Вариант 3: Использовать веб-интерфейс (если доступен)

Проверьте доступность:
- `https://ai.spor3s.ru` - основное приложение
- `http://185.166.197.49:9000` - Portainer (если настроен)
- `http://185.166.197.49:5678` - N8n (если настроен)

### Вариант 4: Использовать другой компьютер/сервер

Если у вас есть доступ к другому серверу, подключитесь через него:
```bash
# С другого сервера
ssh root@185.166.197.49
```

### Вариант 5: Использовать GitHub Actions для деплоя

Настройте автоматический деплой через GitHub Actions, который будет подключаться к VPS из облака.

## Временное решение: Работа через Git

Пока SSH не работает, можно работать так:

1. **Вносите изменения локально**
2. **Коммитьте и пушите в GitHub:**
   ```bash
   git add .
   git commit -m "Your changes"
   git push origin main
   ```

3. **На VPS настроить автоматический pull** (если есть доступ через другой способ):
   ```bash
   # На VPS (через другой доступ)
   cd /var/www/spor3s-app
   git pull origin main
   pm2 restart all
   ```

## Проверка доступности сервисов

```powershell
# Проверка веб-сервера
Invoke-WebRequest -Uri https://ai.spor3s.ru -Method Head -UseBasicParsing

# Проверка портов
Test-NetConnection -ComputerName 185.166.197.49 -Port 80
Test-NetConnection -ComputerName 185.166.197.49 -Port 443
Test-NetConnection -ComputerName 185.166.197.49 -Port 22
```

## Следующие шаги

1. Попробуйте подключиться через VPN
2. Проверьте, есть ли у вас доступ к панели управления VPS
3. Используйте GitHub для синхронизации кода
4. Настройте автоматический деплой через CI/CD

## Учетные данные (для справки)

- **Host:** 185.166.197.49
- **User:** root
- **Password:** qXY.W3,,Be?@gb
- **SSH Key:** `C:\Users\User\.ssh\id_ed25519`

