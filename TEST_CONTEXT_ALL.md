# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–æ –≤—Å–µ—Ö —á–∞—Ç–∞—Ö

## üéØ –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ç—Ä–∏ —á–∞—Ç–∞ –ø–æ–º–Ω—è—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –≤–µ–¥—É—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥.

---

## üìã –¢–µ—Å—Ç-–∫–µ–π—Å—ã

### –¢–µ—Å—Ç 1: Telegram Bot (@spor3s_bot) - –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç–µ–º—ã

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä–æ–π @spor3s_bot –≤ Telegram
2. –ù–∞–ø–∏—à–∏: `—Ö–æ—á—É –µ–∂–æ–≤–∏–∫`
3. –î–æ–∂–¥–∏—Å—å –æ—Ç–≤–µ—Ç–∞
4. –ù–∞–ø–∏—à–∏: `–ø–æ—Ä–æ—à–æ–∫`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
User: —Ö–æ—á—É –µ–∂–æ–≤–∏–∫
Bot: –û—Ç–ª–∏—á–Ω–æ! –ï–∂–æ–≤–∏–∫ –≥—Ä–µ–±–µ–Ω—á–∞—Ç—ã–π –æ—Ç–ª–∏—á–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å –ø–∞–º—è—Ç—å—é...
     –í –∫–∞–∫–æ–π —Ñ–æ—Ä–º–µ: –∫–∞–ø—Å—É–ª—ã –∏–ª–∏ –ø–æ—Ä–æ—à–æ–∫?

User: –ø–æ—Ä–æ—à–æ–∫
Bot: –û—Ç–ª–∏—á–Ω–æ! –ï–∂–æ–≤–∏–∫ –≤ –ø–æ—Ä–æ—à–∫–µ 100–≥ ‚Äî 1100‚ÇΩ –∑–∞ –º–µ—Å—è—Ü.
     –ù–∞ –∫–∞–∫–æ–π —Å—Ä–æ–∫: –º–µ—Å—è—Ü –∏–ª–∏ 3-6 –º–µ—Å—è—Ü–µ–≤ –∫—É—Ä—Å?
```

**–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚ùå –ü–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
- ‚ùå –ü–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- ‚ùå –í–æ–ø—Ä–æ—Å–∞ "—á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?"

---

### –¢–µ—Å—Ç 2: Telegram Bot - –ë–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π

**–®–∞–≥–∏:**
1. –ù–∞–ø–∏—à–∏: `–ø—Ä–∏–≤–µ—Ç`
2. –ù–∞–ø–∏—à–∏: `–º—É—Ö–æ–º–æ—Ä`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
User: –ø—Ä–∏–≤–µ—Ç
Bot: –ü—Ä–∏–≤–µ—Ç! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?

User: –º—É—Ö–æ–º–æ—Ä
Bot: –ú—É—Ö–æ–º–æ—Ä –∫—Ä–∞—Å–Ω—ã–π –æ—Ç–ª–∏—á–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ —Å–Ω–æ–º...
     (–ë–ï–ó –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ "–ü—Ä–∏–≤–µ—Ç!")
```

---

### –¢–µ—Å—Ç 3: Mini App Chat - –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä–æ–π Mini App: https://t.me/spor3s_bot
2. –ü–µ—Ä–µ–π–¥–∏ –≤ —á–∞—Ç
3. –ù–∞–ø–∏—à–∏: `—á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ —Å–Ω–æ–º?`
4. –î–æ–∂–¥–∏—Å—å –æ—Ç–≤–µ—Ç–∞
5. –ù–∞–ø–∏—à–∏: `–∞ –≤ –∫–∞–ø—Å—É–ª–∞—Ö –µ—Å—Ç—å?`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
User: —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ —Å–Ω–æ–º?
Bot: –ú—É—Ö–æ–º–æ—Ä –∫—Ä–∞—Å–Ω—ã–π –æ—Ç–ª–∏—á–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ —Å–Ω–æ–º –∏ —Å–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–µ—Å—Å...

User: –∞ –≤ –∫–∞–ø—Å—É–ª–∞—Ö –µ—Å—Ç—å?
Bot: –î–∞, –ú—É—Ö–æ–º–æ—Ä –≤ –∫–∞–ø—Å—É–ª–∞—Ö 60 —à—Ç ‚Äî 1100‚ÇΩ –∑–∞ –º–µ—Å—è—Ü
     (–ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ —Ä–µ—á—å –æ –º—É—Ö–æ–º–æ—Ä–µ)
```

---

### –¢–µ—Å—Ç 4: Mini App - –ö—Ä–∞—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã

**–®–∞–≥–∏:**
1. –ù–∞–ø–∏—à–∏: `–µ–∂–æ–≤–∏–∫`
2. –ù–∞–ø–∏—à–∏: `–Ω–∞ –º–µ—Å—è—Ü`
3. –ù–∞–ø–∏—à–∏: `–ø–æ—Ä–æ—à–æ–∫`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
User: –µ–∂–æ–≤–∏–∫
Bot: –ï–∂–æ–≤–∏–∫ –ø–æ–º–æ–≥–∞–µ—Ç —Å –ø–∞–º—è—Ç—å—é. –§–æ—Ä–º–∞: –∫–∞–ø—Å—É–ª—ã –∏–ª–∏ –ø–æ—Ä–æ—à–æ–∫?

User: –ø–æ—Ä–æ—à–æ–∫
Bot: –û—Ç–ª–∏—á–Ω–æ! –°—Ä–æ–∫: –º–µ—Å—è—Ü –∏–ª–∏ 3-6 –º–µ—Å—è—Ü–µ–≤?

User: –Ω–∞ –º–µ—Å—è—Ü
Bot: –î–æ–±–∞–≤–∏–ª –ï–∂–æ–≤–∏–∫ 100–≥ –ø–æ—Ä–æ—à–æ–∫ (1100‚ÇΩ) –≤ –∫–æ—Ä–∑–∏–Ω—É! ‚úÖ
```

**–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚ùå –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- ‚ùå –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ —Ñ–æ—Ä–º–µ

---

### –¢–µ—Å—Ç 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
# –ù–∞ VPS
ssh root@185.166.197.49

# –õ–æ–≥–∏ Telegram –±–æ—Ç–∞
pm2 logs spor3s-bot --lines 50

# –õ–æ–≥–∏ Next.js (Mini App)
pm2 logs spor3s-nextjs --lines 50
```

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:**
```
‚úÖ [spor3s_bot] –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ AI –∫–æ–Ω—Ç–µ–∫—Å—Ç: 5 —Å–æ–æ–±—â–µ–Ω–∏–π
‚úÖ [Mini App Chat] –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç: 7 —Å–æ–æ–±—â–µ–Ω–∏–π
‚úÖ [AI API] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π: 7
‚úÖ [AI API] 1. user: —Ö–æ—á—É –µ–∂–æ–≤–∏–∫
‚úÖ [AI API] 2. assistant: –û—Ç–ª–∏—á–Ω–æ! –ï–∂–æ–≤–∏–∫...
‚úÖ [AI API] 3. user: –ø–æ—Ä–æ—à–æ–∫
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –≤—Å–µ –µ—â–µ –Ω–µ –ø–æ–º–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–∏–ª–∏—Å—å
ssh root@185.166.197.49
cd /var/www/spor3s-app

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—Ç—É –∏–∑–º–µ–Ω–µ–Ω–∏—è
ls -la tg-bot/bot.ts
ls -la spor3s-app/app/\(client\)/chat.tsx

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
npm run build
pm2 restart all

# –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–Ω–æ–≤–æ
pm2 flush
pm2 logs
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "role is not defined"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ –ë–î –µ—Å—Ç—å –ø–æ–ª–µ role
ssh root@185.166.197.49
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Supabase
# –í—ã–ø–æ–ª–Ω–∏—Ç—å: SELECT role, content FROM messages LIMIT 5;

# –ï—Å–ª–∏ –ø–æ–ª—è role –Ω–µ—Ç:
# ALTER TABLE messages ADD COLUMN IF NOT EXISTS role TEXT DEFAULT 'user';
```

### –ü—Ä–æ–±–ª–µ–º–∞: Mini App –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç context

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å console –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Console
# –ò—Å–∫–∞—Ç—å: [Mini App Chat] –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç

# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞, –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à:
# –í Mini App: Settings ‚Üí Clear Chat History
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã –µ—Å–ª–∏:
- ‚úÖ –ë–æ—Ç –ø–æ–º–Ω–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –ë–æ—Ç –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
- ‚úÖ –ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç "–ø–æ—Ä–æ—à–æ–∫" –∫–∞–∫ —Ñ–æ—Ä–º—É –ø–æ—Å–ª–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞
- ‚úÖ –ë–æ—Ç –Ω–µ –≤—ã–¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏ —É—Ç–æ—á–Ω–µ–Ω–∏–∏ –¥–µ—Ç–∞–ª–µ–π
- ‚úÖ –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ –ø–µ—Ä–µ–¥–∞—á—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (>1 —Å–æ–æ–±—â–µ–Ω–∏—è)

---

## üìä –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –¢–µ—Å—Ç 1 (Telegram Bot - –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç–µ–º—ã) –ø—Ä–æ–π–¥–µ–Ω
- [ ] –¢–µ—Å—Ç 2 (Telegram Bot - –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π) –ø—Ä–æ–π–¥–µ–Ω
- [ ] –¢–µ—Å—Ç 3 (Mini App - –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞) –ø—Ä–æ–π–¥–µ–Ω
- [ ] –¢–µ—Å—Ç 4 (Mini App - –∫—Ä–∞—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã) –ø—Ä–æ–π–¥–µ–Ω
- [ ] –¢–µ—Å—Ç 5 (–ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–µ—Ä–µ–¥–∞—á—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞) –ø—Ä–æ–π–¥–µ–Ω
- [ ] –í—Å–µ –∞–≥–µ–Ω—Ç—ã –≤ —Å—Ç–∞—Ç—É—Å–µ online –≤ pm2
- [ ] –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

---

**–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã? üéâ –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —á–∞—Ç–∞—Ö!**

