# üçÑ –û—Ç—á–µ—Ç: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–∫–µ—Ä–∞ –ø—Ä–∏–µ–º–∞ –¥–æ–±–∞–≤–æ–∫ –≤ –≤–∏–¥–µ –≥—Ä–∏–±–æ–≤

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **–ú–µ—Ö–∞–Ω–∏–∫–∞ —á–µ–∫-–∏–Ω–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞**
- API endpoint: `/api/checkin/route.ts`
- –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ: +10 SC –∑–∞ –∫–∞–∂–¥—ã–π –ø—Ä–∏–µ–º
- –õ–∏–º–∏—Ç: 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —á–µ–∫-–∏–Ω–æ–≤

### 2. **–ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### `MushroomTracker.tsx`
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≥—Ä–∏–±–∞–º–∏ üçÑ
- –°–µ—Ç–∫–∞ 7 –¥–Ω–µ–π (–Ω–µ–¥–µ–ª—è)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏-–≥—Ä–∏–±—ã
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ—Ä–∏–∏ –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
- –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### `MushroomTrackerPage.tsx`
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∑–∞–∫–∞–∑–µ
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–µ–∫–µ—Ä–æ–º –≥—Ä–∏–±–æ–≤
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### 3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏—é**
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —à–∞–≥: "üçÑ –ü—Ä–∏–µ–º –¥–æ–±–∞–≤–æ–∫"
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏—é

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API —á–µ–∫-–∏–Ω–∞ (`/api/checkin`)
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞ (1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)
const existingCheckins = await supabaseServer
  .from("daily_checkins")
  .select("id")
  .eq("user_id", user_id)
  .eq("order_id", order_id)
  .gte("date", today.toISOString())
  .lt("date", tomorrow.toISOString());

// –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ SC
const { error: txError } = await supabaseServer
  .from("coin_transactions")
  .insert([{
    user_id,
    order_id,
    type: "checkin",
    amount: 10,
    created_at: new Date().toISOString(),
  }]);
```

### –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ì—Ä–∏–±—ã –º–µ–Ω—è—é—Ç —Ü–≤–µ—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ (üçÑ ‚Üí ‚úÖ)
- –¢–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å –∞–∫—Ç–∏–≤–µ–Ω
- –ü—Ä–æ—à–ª—ã–µ –¥–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ç–∞—Ç—É—Å
- –ë—É–¥—É—â–∏–µ –¥–Ω–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç:
1. **–û—Ç–º–µ—Ç–∫–∞ –ø—Ä–∏–µ–º–∞** - —Ç–∞–ø –Ω–∞ –≥—Ä–∏–± –æ—Ç–º–µ—á–∞–µ—Ç –ø—Ä–∏–µ–º
2. **–õ–∏–º–∏—Ç 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –Ω–∞–∂–∞—Ç–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
3. **–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ SC** - +10 –º–æ–Ω–µ—Ç –∑–∞ –∫–∞–∂–¥—ã–π –ø—Ä–∏–µ–º
4. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
5. **–°–µ—Ä–∏—è –¥–Ω–µ–π** - –ø–æ–¥—Å—á–µ—Ç –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
6. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∑–∞–∫–∞–∑–∞–º–∏** - –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∑–∞–∫–∞–∑—É

### üîÑ –ü—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –∑–∞–∫–∞–∑
2. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–∞–∑–¥–µ–ª "üçÑ –ü—Ä–∏–µ–º –¥–æ–±–∞–≤–æ–∫"
3. –í–∏–¥–∏—Ç —Å–≤–æ–π –∑–∞–∫–∞–∑ –∏ —Ç—Ä–µ–∫–µ—Ä –≥—Ä–∏–±–æ–≤
4. –¢–∞–ø–∞–µ—Ç –Ω–∞ –≥—Ä–∏–± —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è
5. –ü–æ–ª—É—á–∞–µ—Ç +10 SC –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
6. –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –Ω–∞–∂–∞—Ç–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:
- `daily_checkins` - –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–∏–µ–º–∞—Ö
- `coin_transactions` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ SC
- `orders` - –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –°–≤—è–∑–∏:
- `user_id` ‚Üí `users.id`
- `order_id` ‚Üí `orders.id`
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –∑–∞–∫–∞–∑—É

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
1. `test-checkin-mechanism.js` - –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç API
2. `simple-mushroom-test.html` - –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∑–∞–∫–∞–∑–∞
- ‚úÖ –ü–µ—Ä–≤—ã–π —á–µ–∫-–∏–Ω (—É—Å–ø–µ—Ö)
- ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π —á–µ–∫-–∏–Ω (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)
- ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ SC
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥—Ä–∏–±–æ–≤

## üé® UI/UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –î–∏–∑–∞–π–Ω:
- –†–æ–∑–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ (–∫–∞–∫ –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö)
- –û–≤–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –∫–Ω–æ–ø–æ–∫
- –®—Ä–∏—Ñ—Ç Montserrat
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞

### –ê–Ω–∏–º–∞—Ü–∏–∏:
- Hover —ç—Ñ—Ñ–µ–∫—Ç—ã
- Scale —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ú–µ—Ö–∞–Ω–∏–∫–∞ —Ç—Ä–µ–∫–µ—Ä–∞ –≥—Ä–∏–±–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

1. **API —Ä–∞–±–æ—Ç–∞–µ—Ç** - —á–µ–∫-–∏–Ω, –ª–∏–º–∏—Ç—ã, –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
2. **UI –≥–æ—Ç–æ–≤** - –∫—Ä–∞—Å–∏–≤—ã–µ –≥—Ä–∏–±—ã —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞** - –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
4. **–¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã** - –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run dev`
2. –û—Ç–∫—Ä—ã—Ç—å `http://localhost:3000`
3. –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "üçÑ –ü—Ä–∏–µ–º –¥–æ–±–∞–≤–æ–∫"
4. –¢–∞–ø–Ω—É—Ç—å –Ω–∞ –≥—Ä–∏–± –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –ø—Ä–∏–µ–º–∞

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è
**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: ~2 —á–∞—Å–∞ 